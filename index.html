<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Giphy</title>
	
</head>
<body>

<div class="container">
	<h1>gif search</h1>

    <!-- Rendered buttons will get dumped Here  -->
    <div id="buttons-view"></div>

    <form id="gif-form">
      <label for="gif-input">Add a Gif</label>
      <input type="text" id="gif-input"><br>

      <!-- Button triggers new movie to be added -->
      <input id="add-gif" type="submit" value="Add a gif">
    </form>



<div id="gifs-button"></div>
<div id="10gifs"></div>
</div>



<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript">


var gifs = ["toy story", "monsters inc", "lion king", "bugs bunny", "micky mouse", "donald duck", "adventure time", "sponge bob", "peppa pig", "rug rats"];




//displaying the gifs
 	function displayGif() {
	  var gif = $(this).attr("data-name"); 
	  var queryURL = "http://api.giphy.com/v1/gifs/search?q="+gif+"&api_key=dc6zaTOxFJmzC&limit=10";  

       
        
        // Creating an AJAX call for the specific gif button being clicked
        $.ajax({
          url: queryURL,
          method: "GET"
        }).done(function(response) {
        	console.log(response);
        	//new div to display responses
        	var  gifDiv = $("<div>");
        	//var holding rating	
        	var rating = response.data[0].rating;
        	//element to  display rating
        	var rate = $("<p>").text("Rated: " + rating);
        	//appending rating to div
      		gifDiv.append(rate);
       

        	var imgGif = response.data[0].images.fixed_height.url;

        	var img = $("<img>").attr("src",imgGif);

        	gifDiv.append(img);

        	//appending new div to id
        	$("#10gifs").append(gifDiv);
     
      
		});
        
	}

//making the buttons
	function buttons(){
		//avoid repeat buttons
		$("#gifs-button").empty();
		
		//loop for buttons
		for (var i = 0; i < gifs.length; i++) {

		var giphy = $("<button>");

		giphy.addClass("gif");

		giphy.attr("data-name", gifs[i]);

		giphy.text(gifs[i]);



		$("#gifs-button").append(giphy);

		}
	}

	$("#add-gif").on("click", function(event) {	
		event.preventDefault();
		//this line grabs input
		var gif = $("#gif-input").val().trim();
		//adds the gif to the array
		gifs.push(gif);

		buttons()


	})
//
 	$(document).on("click", ".gif", displayGif);

buttons()	


</script>
</body>

</html>